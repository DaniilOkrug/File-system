{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){n(1),e.exports=n(2)},function(e,t){var n=document.getElementById(\"wrapper\"),r=document.getElementById(\"sidebar\");n.addEventListener(\"click\",(function(){n.classList.add(\"active\"),r.classList.remove(\"active\")})),r.addEventListener(\"click\",(function(){r.classList.add(\"active\"),n.classList.remove(\"active\")}))},function(e,t,n){var r=n(3),o=new XMLHttpRequest;function a(e,t){for(var n=0;n<e.length;n++)\"file\"==e[n].type&&document.getElementById(t+\"_table\").insertAdjacentHTML(\"beforeend\",'\\n                <div class=\"table__content__row\">\\n                    <div class=\"table__content__item\">\\n                        <p class=\"table__content__name\">'.concat(e[n].name,'</p>\\n                    </div>\\n                    <div class=\"table__content__item\">\\n                        <p class=\"table__content__name\">').concat(e[n].time.substring(0,10),'</p>\\n                    </div>\\n                    <div class=\"table__content__item\">\\n                        <p class=\"table__content__name\"></p>\\n                    </div>\\n                </div>\\n            ')),\"dir\"==e[n].type&&(newFolderId=r(),document.getElementById(t).insertAdjacentHTML(\"beforeend\",'\\n                <div id=\"'.concat(newFolderId,'\" class=\"folder__item\">\\n                    <div class=\"folder__item__content\">\\n                        <div class=\"folder__item__content__body\">\\n                            <div class=\"folder__item__connector-left\">\\n                                <div class=\"mask\"></div>\\n                            </div>\\n                            <img class=\"img-folder\" src=\"assets/images/Folder.svg\" alt=\"folder\">\\n                            <p class=\"folder__item__name\">').concat(e[n].name,\"</p>\\n                        </div>\\n                    </div>\\n                </div>\\n            \")),document.getElementById(\"table\").insertAdjacentHTML(\"beforeend\",\"\\n                <div id=\".concat(newFolderId+\"_table\",' class=\"table__content\">\\n                </div>\\n                ')),0!=e[n].children.length&&a(e[n].children,newFolderId))}function l(){var e,t=document.querySelectorAll(\"div.folder__item__content\"),n=document.querySelectorAll(\"div.table__content\");t.forEach((function(r){return r.addEventListener(\"click\",(function(){if(r.classList.contains(\"active\")&&r.nextElementSibling.classList.contains(\"show\"))r.parentElement.querySelectorAll(\"div.folder__item .show\").forEach((function(e){return e.classList.remove(\"show\")})),controlOfShowing=!1;else if(r.classList.contains(\"active\")&&!r.nextElementSibling.classList.contains(\"show\"))for(var o=r.nextElementSibling,a=1;a<r.parentElement.childElementCount;a++)o.classList.add(\"show\"),o=o.nextElementSibling;t.forEach((function(e){return e.classList.remove(\"active\")})),r.classList.add(\"active\"),e=r.parentElement.id+\"_table\",n.forEach((function(e){return e.classList.remove(\"active\")})),document.getElementById(e).classList.add(\"active\")}))}))}function i(){var e=document.querySelectorAll(\"div.table__content__row\");e.forEach((function(t){return t.addEventListener(\"click\",(function(){e.forEach((function(e){return e.classList.remove(\"active\")})),t.classList.add(\"active\"),activeFolder=folder}))}))}o.open(\"GET\",\"http://localhost:3002/\",!0),o.send(),o.onreadystatechange=function(){4==o.readyState&&(200===o.status?(response=JSON.parse(o.responseText),function(e){for(var t=0;t<e.length;t++){var n=r();document.getElementById(\"folder\").insertAdjacentHTML(\"beforeend\",'\\n                <div id=\"'.concat(n,'\" class=\"folder__item-root\">\\n                    <div class=\"folder__item__content\">\\n                        <div class=\"folder__item__content__body\">\\n                            <div class=\"folder__item__connector-left\">\\n                                <div class=\"mask\"></div>\\n                            </div>\\n                            <img class=\"img-folder\" src=\"assets/images/Folder.svg\" alt=\"folder\">\\n                            <p class=\"folder__item__name\">').concat(e[t].name,\"</p>\\n                        </div>\\n                    </div>\\n                </div>\\n        \")),0!=e[t].children.length&&(document.getElementById(\"table\").insertAdjacentHTML(\"beforeend\",\"\\n                <div id=\".concat(n+\"_table\",' class=\"table__content\">\\n                </div>\\n            ')),a(e[t].children,n))}}(response),!0,l(),i(),document.getElementById(\"new\").addEventListener(\"click\",(function(){var e,t,n,a,c,s=document.querySelector(\"div.folder__item__content.active\").parentElement;if(console.log(s),a=s.querySelector(\".folder__item__name\").innerHTML,!s.classList.contains(\"folder__item-root\"))for(c=s.parentElement;;){if(c.classList.contains(\"folder__item-root\")){a=c.querySelector(\".folder__item__name\").innerHTML+\"/\"+a;break}a=c.querySelector(\".folder__item__name\").innerHTML+\"/\"+a,c=c.parentElement,console.log(\"path\",a)}if(document.getElementById(\"wrapper\").classList.contains(\"active\")){if(t=prompt('File will be created in the directiry \"'.concat(s.querySelector(\".folder__item__name\").innerHTML,'\". Enter the file name'),\"\"),n=\"file\",e=\"http://localhost:3002/newfile\",null==t)return}else if(t=prompt('New directory will be created in the folder \"'.concat(s.querySelector(\".folder__item__name\").innerHTML,'\" Enter the folder name'),\"\"),n=\"dir\",e=\"http://localhost:3002/newfolder\",null==t)return;o.open(\"POST\",e);var d=JSON.stringify({name:t,path:a,type:n});o.setRequestHeader(\"Content-Type\",\"application/json;charset=UTF-8\"),o.send(d),o.onreadystatechange=function(){if(4==o.readyState)if(200===o.status){switch(n){case\"file\":var e=new Date,a=e.getFullYear()+\"-\";e.getMonth()+1<10&&(a+=\"0\"),a+=e.getMonth()+1+\"-\",e.getDay()<10&&(a+=\"0\"),a+=e.getDay()+4,document.getElementById(s.id+\"_table\").insertAdjacentHTML(\"beforeend\",'\\n                            <div class=\"table__content__row\">\\n                                <div class=\"table__content__item\">\\n                                    <p class=\"table__content__name\">'.concat(t+\".txt\",'</p>\\n                                </div>\\n                                <div class=\"table__content__item\">\\n                                    <p class=\"table__content__name\">').concat(a,'</p>\\n                                </div>\\n                                <div class=\"table__content__item\">\\n                                    <p class=\"table__content__name\"></p>\\n                                </div>\\n                            </div>\\n                        '));break;case\"dir\":var c=r();console.log(\"sibling\",s.querySelector(\"folder__item\"));for(var d=s.querySelector(\"div.folder__item\"),_=1;_<s.childElementCount;_++)d.classList.add(\"show\"),d=d.nextElementSibling;document.getElementById(s.id).insertAdjacentHTML(\"beforeend\",'\\n                            <div id=\"'.concat(c,'\" class=\"folder__item show\">\\n                                <div class=\"folder__item__content\">\\n                                    <div class=\"folder__item__content__body\">\\n                                        <div class=\"folder__item__connector-left\">\\n                                            <div class=\"mask\"></div>\\n                                        </div>\\n                                        <img class=\"img-folder\" src=\"assets/images/Folder.svg\" alt=\"folder\">\\n                                        <p class=\"folder__item__name\">').concat(t,\"</p>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        \")),document.getElementById(\"table\").insertAdjacentHTML(\"beforeend\",\"\\n                            <div id=\".concat(c+\"_table\",' class=\"table__content\">\\n                            </div>\\n                        '))}l(),i()}else console.log(\"err\",o.responseText)}})),document.getElementById(\"delete\").addEventListener(\"click\",(function(){var e,t,n,r,a,l;if(t=document.querySelector(\"div.folder__item__content.active\").parentElement,document.getElementById(\"wrapper\").classList.contains(\"active\")?(r=(l=document.querySelector(\"div.table__content__row.active\").parentElement).querySelector(\"p.table__content__name\").innerHTML,n=\"file\",e=\"http://localhost:3002/deletefile\"):(r=t.querySelector(\"p.folder__item__name\").innerHTML,n=\"dir\",e=\"http://localhost:3002/deletefolder\"),a=t.querySelector(\".folder__item__name\").innerHTML,!t.classList.contains(\"folder__item-root\"))for(parentItem=t.parentElement;;){if(parentItem.classList.contains(\"folder__item-root\")){a=parentItem.querySelector(\".folder__item__name\").innerHTML+\"/\"+a;break}a=parentItem.querySelector(\".folder__item__name\").innerHTML+\"/\"+a,parentItem=parentItem.parentElement,console.log(\"path\",a)}console.log(\"path\",a),o.open(\"POST\",e),o.setRequestHeader(\"Content-Type\",\"application/json;charset=UTF-8\"),o.send(JSON.stringify({name:r,pathNew:a,type:n})),o.onreadystatechange=function(){if(4==o.readyState)if(200===o.status)switch(n){case\"dir\":document.getElementById(t.id+\"_table\").remove(),t.remove();break;case\"file\":l.remove()}else console.log(\"err\",o.responseText)}})),document.getElementById(\"rename\").addEventListener(\"click\",(function(){if(folderSelected=document.querySelector(\"div.folder__item__content.active\").parentElement,document.getElementById(\"wrapper\").classList.contains(\"active\")?(tableRowSelected=document.querySelector(\"div.table__content__row.active\").parentElement,itemName=tableRowSelected.querySelector(\"p.table__content__name\").innerHTML,type=\"file\"):(itemName=folderSelected.querySelector(\"p.folder__item__name\").innerHTML,type=\"dir\"),path=folderSelected.querySelector(\".folder__item__name\").innerHTML,!folderSelected.classList.contains(\"folder__item-root\"))for(parentItem=folderSelected.parentElement;;){if(parentItem.classList.contains(\"folder__item-root\")){path=parentItem.querySelector(\".folder__item__name\").innerHTML+\"/\"+path;break}path=parentItem.querySelector(\".folder__item__name\").innerHTML+\"/\"+path,parentItem=parentItem.parentElement,console.log(\"path\",path)}var e=prompt(\"Enter new name\",\"\");null!=e&&(o.open(\"POST\",\"http://localhost:3002/rename\"),o.setRequestHeader(\"Content-Type\",\"application/json;charset=UTF-8\"),o.send(JSON.stringify({name:itemName,path:path,newName:e,type:type})),o.onreadystatechange=function(){if(4==o.readyState)if(200===o.status){var e=JSON.parse(o.responseText);switch(type){case\"dir\":folderSelected.querySelector(\".folder__item__name\").innerHTML=e.name;break;case\"file\":document.querySelector(\"div.table__content__row.active\").parentElement.querySelector(\"p.table__content__name\").innerHTML=e.name}}else console.log(\"err\",o.responseText)})}))):console.log(\"err\",o.responseText))}},function(e,t,n){var r=n(4),o=n(5);e.exports=function(e,t,n){var a=t&&n||0;\"string\"==typeof e&&(t=\"binary\"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||r)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,t)for(var i=0;i<16;++i)t[a+i]=l[i];return t||o(l)}},function(e,t){var n=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!=typeof msCrypto&&\"function\"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],\"-\",o[e[r++]],o[e[r++]],\"-\",o[e[r++]],o[e[r++]],\"-\",o[e[r++]],o[e[r++]],\"-\",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join(\"\")}}]);","extractedComments":[]}