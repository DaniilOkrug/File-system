{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){n(1),e.exports=n(2)},function(e,t){var n=document.getElementById(\"wrapper\"),o=document.getElementById(\"sidebar\");n.addEventListener(\"click\",(function(){n.classList.add(\"active\"),o.classList.remove(\"active\")})),o.addEventListener(\"click\",(function(){o.classList.add(\"active\"),n.classList.remove(\"active\")}))},function(e,t,n){var o=n(3),r=new XMLHttpRequest;function l(e,t){for(var n=0;n<e.length;n++)\"file\"==e[n].type&&document.getElementById(t+\"_table\").insertAdjacentHTML(\"beforeend\",'\\n                <div class=\"table__content__row\">\\n                    <div class=\"table__content__item\">\\n                        <p class=\"table__content__name\">'.concat(e[n].name,'</p>\\n                    </div>\\n                    <div class=\"table__content__item\">\\n                        <p class=\"table__content__name\">').concat(e[n].time.substring(0,10),'</p>\\n                    </div>\\n                    <div class=\"table__content__item\">\\n                        <p class=\"table__content__name\"></p>\\n                    </div>\\n                </div>\\n            ')),\"dir\"==e[n].type&&(newFolderId=o(),document.getElementById(t).insertAdjacentHTML(\"beforeend\",'\\n                <div id=\"'.concat(newFolderId,'\" class=\"folder__item\">\\n                    <div class=\"folder__item__content\">\\n                        <div class=\"folder__item__content__body\">\\n                            <div class=\"folder__item__connector-left\">\\n                                <div class=\"mask\"></div>\\n                            </div>\\n                            <img class=\"img-folder\" src=\"assets/images/Folder.svg\" alt=\"folder\">\\n                            <p class=\"folder__item__name\">').concat(e[n].name,\"</p>\\n                        </div>\\n                    </div>\\n                </div>\\n            \")),document.getElementById(\"table\").insertAdjacentHTML(\"beforeend\",\"\\n                <div id=\".concat(newFolderId+\"_table\",' class=\"table__content\">\\n                </div>\\n                ')),0!=e[n].children.length&&l(e[n].children,newFolderId))}function i(){var e,t=document.querySelectorAll(\"div.folder__item__content\"),n=document.querySelectorAll(\"div.table__content\");t.forEach((function(o){return o.addEventListener(\"click\",(function(){if(o.childElementCount<=1)if(o.classList.contains(\"active\"))o.parentElement.querySelectorAll(\"div.folder__item .show\").forEach((function(e){return e.classList.remove(\"show\")})),controlOfShowing=!1;else for(var r=o.nextElementSibling,l=1;l<o.parentElement.childElementCount;l++)r.classList.add(\"show\"),r=r.nextElementSibling;else if(o.classList.contains(\"active\")&&o.nextElementSibling.classList.contains(\"show\"))o.parentElement.querySelectorAll(\"div.folder__item .show\").forEach((function(e){return e.classList.remove(\"show\")})),controlOfShowing=!1;else if(o.classList.contains(\"active\")&&!o.nextElementSibling.classList.contains(\"show\"))for(var i=o.nextElementSibling,a=1;a<o.parentElement.childElementCount;a++)i.classList.add(\"show\"),i=i.nextElementSibling;t.forEach((function(e){return e.classList.remove(\"active\")})),o.classList.add(\"active\"),e=o.parentElement.id+\"_table\",n.forEach((function(e){return e.classList.remove(\"active\")})),document.getElementById(e).classList.add(\"active\")}))}))}function a(){var e=document.querySelectorAll(\"div.table__content__row\");e.forEach((function(t){return t.addEventListener(\"click\",(function(){e.forEach((function(e){return e.classList.remove(\"active\")})),t.classList.add(\"active\"),activeFolder=folder}))}))}r.open(\"GET\",\"http://localhost:3002/\",!0),r.send(),r.onreadystatechange=function(){4==r.readyState&&(200===r.status?(response=JSON.parse(r.responseText),function(e){for(var t=0;t<e.length;t++){var n=o();document.getElementById(\"folder\").insertAdjacentHTML(\"beforeend\",'\\n                <div id=\"'.concat(n,'\" class=\"folder__item-root\">\\n                    <div class=\"folder__item__content\">\\n                        <div class=\"folder__item__content__body\">\\n                            <div class=\"folder__item__connector-left\">\\n                                <div class=\"mask\"></div>\\n                            </div>\\n                            <img class=\"img-folder\" src=\"assets/images/Folder.svg\" alt=\"folder\">\\n                            <p class=\"folder__item__name\">').concat(e[t].name,\"</p>\\n                        </div>\\n                    </div>\\n                </div>\\n        \")),0!=e[t].children.length&&(document.getElementById(\"table\").insertAdjacentHTML(\"beforeend\",\"\\n                <div id=\".concat(n+\"_table\",' class=\"table__content\">\\n                </div>\\n            ')),l(e[t].children,n))}}(response),!0,i(),a(),document.getElementById(\"new\").addEventListener(\"click\",(function(){var e,t,n,l,c,s=document.querySelector(\"div.folder__item__content.active\").parentElement;if(console.log(s),l=s.querySelector(\".folder__item__name\").innerHTML,!s.classList.contains(\"folder__item-root\"))for(c=s.parentElement;;){if(c.classList.contains(\"folder__item-root\")){l=c.querySelector(\".folder__item__name\").innerHTML+\"/\"+l;break}l=c.querySelector(\".folder__item__name\").innerHTML+\"/\"+l,c=c.parentElement,console.log(\"path\",l)}if(document.getElementById(\"wrapper\").classList.contains(\"active\")){t=prompt('File will be created in the directiry \"'.concat(s.querySelector(\".folder__item__name\").innerHTML,'\". Enter the file name'),\"\");var d=document.querySelector(\"div.table__content.active\").querySelectorAll(\"p.table__content__name\");console.log(\"fileNames:\",d);for(var _=0;_<d.length;_++)if(d[_].innerHTML==t+\".txt\")return void alert(\"File with this name already exists\");if(n=\"file\",e=\"http://localhost:3002/newfile\",null==t)return}else{if(t=prompt('New directory will be created in the folder \"'.concat(s.querySelector(\".folder__item__name\").innerHTML,'\" Enter the folder name'),\"\"),console.log(\"selected\",s),null==t||\"\"==t)return;var m;if(0!=s.childElementCount)for(m=s.classList.contains(\"folder__item-root\")?s.firstElementChild:s.parentElement.firstElementChild,console.log(\"first child\",m),_=0;_<s.childElementCount-1;_++){if(m.nextElementSibling.querySelector(\".folder__item__name\").innerHTML==t)return void alert(\"Such folder already exists\");m=m.nextElementSibling}n=\"dir\",e=\"http://localhost:3002/newfolder\"}console.log(\"url\",e),r.open(\"POST\",e);var f=JSON.stringify({name:t,path:l,type:n});r.setRequestHeader(\"Content-Type\",\"application/json;charset=UTF-8\"),r.send(f),r.onreadystatechange=function(){if(4==r.readyState)if(200===r.status){switch(n){case\"file\":var e=new Date,l=e.getFullYear()+\"-\";e.getMonth()+1<10&&(l+=\"0\"),l+=e.getMonth()+1+\"-\",e.getDay()<10&&(l+=\"0\"),l+=e.getDay()+4,document.getElementById(s.id+\"_table\").insertAdjacentHTML(\"beforeend\",'\\n                            <div class=\"table__content__row\">\\n                                <div class=\"table__content__item\">\\n                                    <p class=\"table__content__name\">'.concat(t+\".txt\",'</p>\\n                                </div>\\n                                <div class=\"table__content__item\">\\n                                    <p class=\"table__content__name\">').concat(l,'</p>\\n                                </div>\\n                                <div class=\"table__content__item\">\\n                                    <p class=\"table__content__name\"></p>\\n                                </div>\\n                            </div>\\n                        '));break;case\"dir\":for(var c=o(),d=s.querySelector(\"div.folder__item\"),_=1;_<s.childElementCount;_++)d.classList.add(\"show\"),d=d.nextElementSibling;document.getElementById(s.id).insertAdjacentHTML(\"beforeend\",'\\n                            <div id=\"'.concat(c,'\" class=\"folder__item show\">\\n                                <div class=\"folder__item__content\">\\n                                    <div class=\"folder__item__content__body\">\\n                                        <div class=\"folder__item__connector-left\">\\n                                            <div class=\"mask\"></div>\\n                                        </div>\\n                                        <img class=\"img-folder\" src=\"assets/images/Folder.svg\" alt=\"folder\">\\n                                        <p class=\"folder__item__name\">').concat(t,\"</p>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        \")),document.getElementById(\"table\").insertAdjacentHTML(\"beforeend\",\"\\n                            <div id=\".concat(c+\"_table\",' class=\"table__content\">\\n                            </div>\\n                        '))}i(),a()}else console.log(\"err\",r.responseText)}})),document.getElementById(\"delete\").addEventListener(\"click\",(function(){var e,t,n,o,l;if(t=document.querySelector(\"div.folder__item__content.active\").parentElement,document.getElementById(\"wrapper\").classList.contains(\"active\")?(o=document.querySelector(\"div.table__content__row.active\").querySelector(\"p.table__content__name\").innerHTML,n=\"file\",e=\"http://localhost:3002/deletefile\"):(o=t.querySelector(\"p.folder__item__name\").innerHTML,n=\"dir\",e=\"http://localhost:3002/deletefolder\"),l=t.querySelector(\".folder__item__name\").innerHTML,!t.classList.contains(\"folder__item-root\"))for(parentItem=t.parentElement;;){if(parentItem.classList.contains(\"folder__item-root\")){l=parentItem.querySelector(\".folder__item__name\").innerHTML+\"/\"+l;break}l=parentItem.querySelector(\".folder__item__name\").innerHTML+\"/\"+l,parentItem=parentItem.parentElement,console.log(\"path\",l)}console.log(\"path\",l),r.open(\"POST\",e),r.setRequestHeader(\"Content-Type\",\"application/json;charset=UTF-8\"),r.send(JSON.stringify({name:o,path:l,type:n})),r.onreadystatechange=function(){if(4==r.readyState)if(200===r.status)switch(n){case\"dir\":document.getElementById(t.id+\"_table\").remove(),t.remove();break;case\"file\":document.querySelector(\"div.table__content__row.active\").remove()}else console.log(\"err\",r.responseText)}})),document.getElementById(\"rename\").addEventListener(\"click\",(function(){if(folderSelected=document.querySelector(\"div.folder__item__content.active\").parentElement,document.getElementById(\"wrapper\").classList.contains(\"active\")?(tableRowSelected=document.querySelector(\"div.table__content__row.active\"),console.log(tableRowSelected),itemName=tableRowSelected.querySelector(\"p.table__content__name\").innerHTML,type=\"file\"):(itemName=folderSelected.querySelector(\"p.folder__item__name\").innerHTML,type=\"dir\"),path=folderSelected.querySelector(\".folder__item__name\").innerHTML,!folderSelected.classList.contains(\"folder__item-root\"))for(parentItem=folderSelected.parentElement;;){if(parentItem.classList.contains(\"folder__item-root\")){path=parentItem.querySelector(\".folder__item__name\").innerHTML+\"/\"+path;break}path=parentItem.querySelector(\".folder__item__name\").innerHTML+\"/\"+path,parentItem=parentItem.parentElement,console.log(\"path\",path)}var e=prompt(\"Enter new name\",\"\");null!=e&&(r.open(\"POST\",\"http://localhost:3002/rename\"),r.setRequestHeader(\"Content-Type\",\"application/json;charset=UTF-8\"),r.send(JSON.stringify({name:itemName,path:path,newName:e,type:type})),r.onreadystatechange=function(){if(4==r.readyState)if(200===r.status)switch(type){case\"dir\":folderSelected.querySelector(\".folder__item__name\").innerHTML=e;break;case\"file\":document.querySelector(\"div.table__content__row.active\").querySelector(\"p.table__content__name\").innerHTML=e+\".txt\"}else console.log(\"err\",r.responseText)})}))):console.log(\"err\",r.responseText))}},function(e,t,n){var o=n(4),r=n(5);e.exports=function(e,t,n){var l=t&&n||0;\"string\"==typeof e&&(t=\"binary\"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var a=0;a<16;++a)t[l+a]=i[a];return t||r(i)}},function(e,t){var n=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!=typeof msCrypto&&\"function\"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);e.exports=function(){return n(o),o}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);e.exports=function(e,t){var o=t||0,r=n;return[r[e[o++]],r[e[o++]],r[e[o++]],r[e[o++]],\"-\",r[e[o++]],r[e[o++]],\"-\",r[e[o++]],r[e[o++]],\"-\",r[e[o++]],r[e[o++]],\"-\",r[e[o++]],r[e[o++]],r[e[o++]],r[e[o++]],r[e[o++]],r[e[o++]]].join(\"\")}}]);","extractedComments":[]}